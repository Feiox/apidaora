{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"apidaora OpenAPI / HTTP / REST API using dataclasses and TypedDict annotation for python Documentation : https://dutradda.github.io/apidaora Source Code : https://github.com/dutradda/apidaora Key Features Declaration of request/response as dataclasses and dicts using typing annotations Input data validation with jsondaora One of the fastest python api framework Can run on any asgi server Requirements Python 3.8+ jsondaora for json validation/parsing orjson for json/bytes serialization (jsondaora dependency) Instalation $ pip install apidaora Simple example from apidaora import appdaora , route @route.get ( '/hello' ) def hello_controller ( name : str ): return f 'Hello {name}!' app = appdaora ( hello_controller ) Running the server (needs uvicorn installed ): uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server (needs curl installed ): curl -i localhost:8000/hello?name = World HTTP/1.1 200 OK date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json content-length: 14 \"Hello World!\" Basic example from typing import TypedDict from jsondaora import integer , jsondaora , string from apidaora import appdaora , header , route Age = header ( type = int ) @jsondaora class You ( TypedDict ): name : str last_name : str location : string ( max_length = 100 ) age : integer ( minimum = 18 ) @jsondaora class ReqBody ( TypedDict ): last_name : str @jsondaora class HelloOutput ( TypedDict ): hello_message : str abot_you : You @route.put ( '/hello/{name}' ) async def hello_controller ( name : str , location : str , age : Age , body : ReqBody ) -> HelloOutput : you = You ( name = name , location = location , age = age , ** body ) return HelloOutput ( hello_message = await hello_message ( name , location ), about_you = you ) async def hello_message ( name : str , location : str ) -> str : return f 'Hello {name}! Welcome to {location}!' app = appdaora ( hello_controller ) Running the server: uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server: curl -i -X PUT localhost:8000/hello/Me?location = World \\ -H 'x-age: 32' \\ -d '{\"last_name\":\"My Self\"}' HTTP/1.1 200 OK date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json content-length: 123 {\"hello_message\":\"Hello Me! Welcome to World!\",\"about_you\":{\"name\":\"Me\",\"location\":\"World\",\"age\":32,\"last_name\":\"My Self\"}} Example for more request/response details from http import HTTPStatus from jsondaora import jsondaora from apidaora import BadRequestError , JSONResponse , appdaora , header , route # Domain layer, here are the domain related definitions # it is apidaora/framework/http independent @jsondaora class You : name : str last_name : str age : int DB = {} def add_you ( you ): if you . name in DB : raise YouAlreadyBeenAddedError ( you . name ) DB [ you . name ] = you def get_you ( name ): try : return DB [ name ] except KeyError : raise YouWereNotFoundError ( name ) class DBError ( Exception ): @property def info ( self ): return { 'name' : self . args [ 0 ]} class YouAlreadyBeenAddedError ( DBError ): name = 'you-already-been-added' class YouWereNotFoundError ( DBError ): name = 'you-were-not-found' # Application layer, here are the http related definitions # See: https://dutrdda.github.io/apidaora/tutorial/headers/ ReqID = header ( type = str , http_name = 'http_req_id' ) @route.post ( '/you/' ) async def add_you_controller ( req_id : ReqID , body : You ) -> JSONResponse : try : add_you ( body ) except YouAlreadyBeenAddedError as error : raise BadRequestError ( name = error . name , info = error . info ) from error return JSONResponse ( body = body , status = HTTPStatus . CREATED , headers = [ req_id ]) @route.get ( '/you/{name}' ) async def get_you_controller ( name : str , req_id : ReqID ) -> JSONResponse : try : return JSONResponse ( get_you ( name ), headers = [ req_id ]) except YouWereNotFoundError as error : raise BadRequestError ( name = error . name , info = error . info ) from error app = appdaora ([ add_you_controller , get_you_controller ]) Running the server: uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server: curl -X POST -i localhost:8000/you/ -H 'http_req_id: 1a2b3c4d' -d '{\"name\":\"Me\",\"last_name\":\"Myself\",\"age\":32}' HTTP/1.1 201 Created date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json content-length: 43 {\"name\":\"Me\",\"last_name\":\"Myself\",\"age\":32} Benchmark The full results can be found here","title":"apidaora"},{"location":"#apidaora","text":"OpenAPI / HTTP / REST API using dataclasses and TypedDict annotation for python Documentation : https://dutradda.github.io/apidaora Source Code : https://github.com/dutradda/apidaora","title":"apidaora"},{"location":"#key-features","text":"Declaration of request/response as dataclasses and dicts using typing annotations Input data validation with jsondaora One of the fastest python api framework Can run on any asgi server","title":"Key Features"},{"location":"#requirements","text":"Python 3.8+ jsondaora for json validation/parsing orjson for json/bytes serialization (jsondaora dependency)","title":"Requirements"},{"location":"#instalation","text":"$ pip install apidaora","title":"Instalation"},{"location":"#simple-example","text":"from apidaora import appdaora , route @route.get ( '/hello' ) def hello_controller ( name : str ): return f 'Hello {name}!' app = appdaora ( hello_controller ) Running the server (needs uvicorn installed ): uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server (needs curl installed ): curl -i localhost:8000/hello?name = World HTTP/1.1 200 OK date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json content-length: 14 \"Hello World!\"","title":"Simple example"},{"location":"#basic-example","text":"from typing import TypedDict from jsondaora import integer , jsondaora , string from apidaora import appdaora , header , route Age = header ( type = int ) @jsondaora class You ( TypedDict ): name : str last_name : str location : string ( max_length = 100 ) age : integer ( minimum = 18 ) @jsondaora class ReqBody ( TypedDict ): last_name : str @jsondaora class HelloOutput ( TypedDict ): hello_message : str abot_you : You @route.put ( '/hello/{name}' ) async def hello_controller ( name : str , location : str , age : Age , body : ReqBody ) -> HelloOutput : you = You ( name = name , location = location , age = age , ** body ) return HelloOutput ( hello_message = await hello_message ( name , location ), about_you = you ) async def hello_message ( name : str , location : str ) -> str : return f 'Hello {name}! Welcome to {location}!' app = appdaora ( hello_controller ) Running the server: uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server: curl -i -X PUT localhost:8000/hello/Me?location = World \\ -H 'x-age: 32' \\ -d '{\"last_name\":\"My Self\"}' HTTP/1.1 200 OK date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json content-length: 123 {\"hello_message\":\"Hello Me! Welcome to World!\",\"about_you\":{\"name\":\"Me\",\"location\":\"World\",\"age\":32,\"last_name\":\"My Self\"}}","title":"Basic example"},{"location":"#example-for-more-requestresponse-details","text":"from http import HTTPStatus from jsondaora import jsondaora from apidaora import BadRequestError , JSONResponse , appdaora , header , route # Domain layer, here are the domain related definitions # it is apidaora/framework/http independent @jsondaora class You : name : str last_name : str age : int DB = {} def add_you ( you ): if you . name in DB : raise YouAlreadyBeenAddedError ( you . name ) DB [ you . name ] = you def get_you ( name ): try : return DB [ name ] except KeyError : raise YouWereNotFoundError ( name ) class DBError ( Exception ): @property def info ( self ): return { 'name' : self . args [ 0 ]} class YouAlreadyBeenAddedError ( DBError ): name = 'you-already-been-added' class YouWereNotFoundError ( DBError ): name = 'you-were-not-found' # Application layer, here are the http related definitions # See: https://dutrdda.github.io/apidaora/tutorial/headers/ ReqID = header ( type = str , http_name = 'http_req_id' ) @route.post ( '/you/' ) async def add_you_controller ( req_id : ReqID , body : You ) -> JSONResponse : try : add_you ( body ) except YouAlreadyBeenAddedError as error : raise BadRequestError ( name = error . name , info = error . info ) from error return JSONResponse ( body = body , status = HTTPStatus . CREATED , headers = [ req_id ]) @route.get ( '/you/{name}' ) async def get_you_controller ( name : str , req_id : ReqID ) -> JSONResponse : try : return JSONResponse ( get_you ( name ), headers = [ req_id ]) except YouWereNotFoundError as error : raise BadRequestError ( name = error . name , info = error . info ) from error app = appdaora ([ add_you_controller , get_you_controller ]) Running the server: uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server: curl -X POST -i localhost:8000/you/ -H 'http_req_id: 1a2b3c4d' -d '{\"name\":\"Me\",\"last_name\":\"Myself\",\"age\":32}' HTTP/1.1 201 Created date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json content-length: 43 {\"name\":\"Me\",\"last_name\":\"Myself\",\"age\":32}","title":"Example for more request/response details"},{"location":"#benchmark","text":"The full results can be found here","title":"Benchmark"},{"location":"changelog/","text":"CHANGELOG 0.7.0 - 2019-10-06 Improve devtools Improve docs Refactor the entirely api 0.6.0 - 2019-10-04 Add devtools submodule Refactor path decorator Improve examples to use async def Update public interface Improve docs 0.5.0 (2019-09-20) Improves requests/responses objects 0.4.1 (2019-09-19) Improve docs 0.4.0 (2019-09-19) Rename typingjson project do jsondaora 0.3.0 (2019-09-19) Add TypedDict support Rename project 0.2.0 (2019-09-18) Refactor app and router modules 0.1.2 (2019-09-18) Improve docs 0.1.1 (2019-09-18) Fix docs 0.1.0 (2019-09-18) Add initial files","title":"Changelog"},{"location":"changelog/#changelog","text":"","title":"CHANGELOG"},{"location":"changelog/#070-2019-10-06","text":"Improve devtools Improve docs Refactor the entirely api","title":"0.7.0 - 2019-10-06"},{"location":"changelog/#060-2019-10-04","text":"Add devtools submodule Refactor path decorator Improve examples to use async def Update public interface Improve docs","title":"0.6.0 - 2019-10-04"},{"location":"changelog/#050-2019-09-20","text":"Improves requests/responses objects","title":"0.5.0 (2019-09-20)"},{"location":"changelog/#041-2019-09-19","text":"Improve docs","title":"0.4.1 (2019-09-19)"},{"location":"changelog/#040-2019-09-19","text":"Rename typingjson project do jsondaora","title":"0.4.0 (2019-09-19)"},{"location":"changelog/#030-2019-09-19","text":"Add TypedDict support Rename project","title":"0.3.0 (2019-09-19)"},{"location":"changelog/#020-2019-09-18","text":"Refactor app and router modules","title":"0.2.0 (2019-09-18)"},{"location":"changelog/#012-2019-09-18","text":"Improve docs","title":"0.1.2 (2019-09-18)"},{"location":"changelog/#011-2019-09-18","text":"Fix docs","title":"0.1.1 (2019-09-18)"},{"location":"changelog/#010-2019-09-18","text":"Add initial files","title":"0.1.0 (2019-09-18)"},{"location":"contributing/","text":"Starting Development git clone git@github.com:dutradda/apidaora.git --recursive cd apidaora make setup-python-virtualenv source venv/bin/activate make setup-python-project bake setup-apidaora bake dependencies Running the integration suite: bake integration Other bake tasks: bake check-code bake tests-docs bake serve-docs bake add-changelog m = \"Add my cool feature\" You can run bake to see all tasks available.","title":"Development - Contributing"},{"location":"contributing/#starting-development","text":"git clone git@github.com:dutradda/apidaora.git --recursive cd apidaora make setup-python-virtualenv source venv/bin/activate make setup-python-project bake setup-apidaora bake dependencies","title":"Starting Development"},{"location":"contributing/#running-the-integration-suite","text":"bake integration","title":"Running the integration suite:"},{"location":"contributing/#other-bake-tasks","text":"bake check-code bake tests-docs bake serve-docs bake add-changelog m = \"Add my cool feature\" You can run bake to see all tasks available.","title":"Other bake tasks:"},{"location":"json/","text":"JavaScript Object Notation Introduction from w3schools : - https://www.w3schools.com/js/js_json_intro.asp JSON Schema Official Documentation: - https://json-schema.org","title":"JSON intro"},{"location":"json/#javascript-object-notation","text":"Introduction from w3schools : - https://www.w3schools.com/js/js_json_intro.asp","title":"JavaScript Object Notation"},{"location":"json/#json-schema","text":"Official Documentation: - https://json-schema.org","title":"JSON Schema"},{"location":"python-dataclass/","text":"Python 3.7 dataclasses module Official Documentation: - https://docs.python.org/3/library/dataclasses.html Dataclass Benchmark Data types performance comparision: - https://medium.com/@jacktator/dataclass-vs-namedtuple-vs-object-for-performance-optimization-in-python-691e234253b9","title":"Python dataclass intro"},{"location":"python-dataclass/#python-37-dataclasses-module","text":"Official Documentation: - https://docs.python.org/3/library/dataclasses.html","title":"Python 3.7 dataclasses module"},{"location":"python-dataclass/#dataclass-benchmark","text":"Data types performance comparision: - https://medium.com/@jacktator/dataclass-vs-namedtuple-vs-object-for-performance-optimization-in-python-691e234253b9","title":"Dataclass Benchmark"},{"location":"tutorial/00-intro/","text":"Tutorial - Introduction Getting Started Installs $ pip install apidaora Starts coding from apidaora import appdaora , route @route.get ( '/hello' ) def hello_controller ( name : str ): return f 'Hello {name}!' app = appdaora ( hello_controller ) Running the server (needs uvicorn installed ): uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server (needs curl installed ): curl -i localhost:8000/hello?name = World HTTP/1.1 200 OK date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json content-length: 14 \"Hello World!\"","title":"Introduction"},{"location":"tutorial/00-intro/#tutorial-introduction","text":"","title":"Tutorial - Introduction"},{"location":"tutorial/00-intro/#getting-started","text":"","title":"Getting Started"},{"location":"tutorial/00-intro/#installs","text":"$ pip install apidaora","title":"Installs"},{"location":"tutorial/00-intro/#starts-coding","text":"from apidaora import appdaora , route @route.get ( '/hello' ) def hello_controller ( name : str ): return f 'Hello {name}!' app = appdaora ( hello_controller ) Running the server (needs uvicorn installed ): uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server (needs curl installed ): curl -i localhost:8000/hello?name = World HTTP/1.1 200 OK date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json content-length: 14 \"Hello World!\"","title":"Starts coding"},{"location":"tutorial/10-using-asgi-module/","text":"Tutorial - Using ASGI module Example from typing import TypedDict from jsondaora import jsondaora , typed_dict_asjson from apidaora.asgi.app import asgi_app from apidaora.asgi.responses import JSON_RESPONSE from apidaora.asgi.router import Route , make_router from apidaora.method import MethodType @jsondaora class You ( TypedDict ): name : str location : str async def hello_controller ( path_args , query_dict , headers , body ): you = You ( name = path_args [ 'name' ], location = query_dict [ 'location' ][ 0 ]) body = typed_dict_asjson ( you , You ) return JSON_RESPONSE , body route = Route ( path_pattern = '/hello/{name}' , method = MethodType . GET , controller = hello_controller , has_path_args = True , has_query = True , ) router = make_router ([ route ]) app = asgi_app ( router ) Running the server (needs uvicorn installed ): uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server (needs curl installed ): curl -i localhost:8000/hello/Me?location = World HTTP/1.1 200 OK date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json transfer-encoding: chunked {\"name\":\"Me\",\"location\":\"World\"}","title":"Core Module"},{"location":"tutorial/10-using-asgi-module/#tutorial-using-asgi-module","text":"","title":"Tutorial - Using ASGI module"},{"location":"tutorial/10-using-asgi-module/#example","text":"from typing import TypedDict from jsondaora import jsondaora , typed_dict_asjson from apidaora.asgi.app import asgi_app from apidaora.asgi.responses import JSON_RESPONSE from apidaora.asgi.router import Route , make_router from apidaora.method import MethodType @jsondaora class You ( TypedDict ): name : str location : str async def hello_controller ( path_args , query_dict , headers , body ): you = You ( name = path_args [ 'name' ], location = query_dict [ 'location' ][ 0 ]) body = typed_dict_asjson ( you , You ) return JSON_RESPONSE , body route = Route ( path_pattern = '/hello/{name}' , method = MethodType . GET , controller = hello_controller , has_path_args = True , has_query = True , ) router = make_router ([ route ]) app = asgi_app ( router ) Running the server (needs uvicorn installed ): uvicorn myapp:app INFO: Started server process [16220] INFO: Waiting for application startup. INFO: ASGI 'lifespan' protocol appears unsupported. INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) Quering the server (needs curl installed ): curl -i localhost:8000/hello/Me?location = World HTTP/1.1 200 OK date: Thu, 1st January 1970 00:00:00 GMT server: uvicorn content-type: application/json transfer-encoding: chunked {\"name\":\"Me\",\"location\":\"World\"}","title":"Example"}]}